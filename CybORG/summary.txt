How it works?
The best way to picture it is to view it as one controller and one simulation that gives information back and fourth to the controller. Both the controller and simulation have different agents that interact with each other. We can spilt these systems as the CybOrg (controller) and Cyber Range(simulation). 
The CybOrg has three different agents involved in it. The first is the environment creation agent that essentially creates the host agent through scenario parsing. This is important as it starts up the simulation where the teams and agents compete. The second agent is specific for the red team (offensive), it is the Metasploit RPC client. Essentially, the Metasploit server is a tool used to probe systematic vulnerabilities on different networks and servers. The RPC client here will be in control of the main Metasploit server on the host side. The last agent is specific to the blue team (defensive). It is the velocity client, which has many different host agents in the simulation that look for any attacks from the red team. Once an attack is detected, the agents take the data from the attack and inform the CybOrg. From this the red team can take the next action towards defending the attack.
